(this["webpackJsonpjsonforms-editor"]=this["webpackJsonpjsonforms-editor"]||[]).push([[0],{1200:function(e,t,n){"use strict";n.r(t);var r=n(1254),a=n(0),i=n.n(a),o=n(67),c=n.n(o),l=(n(787),n(416)),u=n(699),s=n(1253),m=n(208),d=n(1255),p=n(1260),f=n(1258),h=n(1259),v=n(1257),y=n(702),g=n(542),E=n(1262),b=n(358),O=n(1249),j=n(1251),S=n(700),C=n(1271),x=n(1264),D=n(1250),I=n(275),w=n(1245),U=n(771),k=n(709),N=n(1261),P=n(708),T=n(749),A=n(50),M=n(25),L=n(1246),$=n(1248),z=n(1247),R=n(1222),J=n(1273),W=n(1274),F=n(1270),_=n(767),H=n(288),B=n(538),G=n.n(B),V=n(537),q=n.n(V),K=n(758),Y=n.n(K),Q=n(761),X=n.n(Q),Z=n(759),ee=n.n(Z),te=n(760),ne=n.n(te),re=n(762),ae=n.n(re),ie=n(756),oe=n.n(ie),ce=n(757),le=n.n(ce),ue=n(525),se=n.n(ue),me=n(101),de=n(1272),pe=n(51),fe=n(764),he=n.n(fe),ve=n(1275),ye=n(763),ge=n.n(ye),Ee=n(287),be=n(54),Oe=n(352),je=n.n(Oe),Se=n(1266),Ce=n(1267),xe=n(766),De=n.n(xe),Ie=n(765),we=n.n(Ie),Ue=n(529),ke=n.n(Ue),Ne=n(212),Pe=n(536),Te=n.n(Pe),Ae=n(1269),Me=n(1268),Le=n(540),$e=n(530),ze=n.n($e),Re=function(){return Re=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Re.apply(this,arguments)};function Je(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}function We(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function c(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}l((r=r.apply(e,t||[])).next())}))}function Fe(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(c){i=[6,c],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}function _e(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var i=arguments[t],o=0,c=i.length;o<c;o++,a++)r[a]=i[o];return r}var He=function(){var e=this;this.parentUuids=new Map,this.selectedTabs=new Map,this.getTabSelection=function(t){return e.selectedTabs.get(t.uuid)},this.setTabSelection=function(t,n){e.selectedTabs.set(t.uuid,n),e.parentUuids.has(t.uuid)||e.parentUuids.set(t.uuid,e.getParentCategoryIds(t.parent))},this.clearTabSelections=function(){e.selectedTabs.clear(),e.parentUuids.clear()},this.removeElement=function(t){e.selectedTabs.delete(t.uuid),e.parentUuids.delete(t.uuid),e.parentUuids.forEach((function(n,r,a){n.includes(t.uuid)&&(a.delete(r),e.selectedTabs.delete(r))}))},this.getParentCategoryIds=function(t){return void 0===t?[]:"Categorization"===t.type||"Category"===t.type?_e([t.uuid],e.getParentCategoryIds(t.parent)):e.getParentCategoryIds(t.parent)}},Be=function e(t){return t?_e([t],e(t.parent)):[]},Ge="object",Ve="array",qe="primitive",Ke="other",Ye=function(e){var t=[];switch(e.type){case Ge:t.push.apply(t,Array.from(e.properties.values()));break;case Ve:var n=Array.isArray(e.items)?e.items:[e.items];t.push.apply(t,n)}return e.other&&t.push.apply(t,Array.from(e.other.values())),t},Qe=function(e){var t=[];switch(e.type){case Ge:var n=Array.from(e.properties.entries()).map((function(e){var t=e[0];return[e[1],"properties/"+t]}));t.push.apply(t,n);break;case Ve:var r=Array.isArray(e.items)?e.items.map((function(e,t){return[e,"items/"+t]})):[[e.items,"items"]];t.push.apply(t,r)}if(e.other){var a=Array.from(e.other.entries()).map((function(e){var t=e[0];return[e[1],t]}));t.push.apply(t,a)}return new Map(t)},Xe=function e(t){return t.parent?e(t.parent)+"/"+Qe(t.parent).get(t):""},Ze=function e(t){return!t.parent||rt(t.parent)?"":e(t.parent)+"/"+Qe(t.parent).get(t)},et=function e(t){var n,r=Object(me.cloneDeep)(t),a={parent:null===(n=t.parent)||void 0===n?void 0:n.uuid,linkedUISchemaElements:t.linkedUISchemaElements?Array.from(t.linkedUISchemaElements.values()):void 0};switch(t.type){case Ge:t.properties.size>0&&(a.properties=Array.from(t.properties).map((function(t){var n=t[0],r=t[1];return{name:n,value:e(r)}})));break;case Ve:Array.isArray(t.items)?a.items=t.items.map(e):a.items=e(t.items)}return t.other&&(a.other=Array.from(t.other).map((function(t){var n=t[0],r=t[1];return{name:n,value:e(r)}}))),Object(me.assign)(r,a)},tt=function(e){return function(t){return(null===t||void 0===t?void 0:t.type)===e}},nt=tt(Ge),rt=tt(Ve),at=(tt(qe),tt(Ke),function(e){if(e.schema.title)return e.schema.title;if(nt(e.parent))for(var t=0,n=Array.from(e.parent.properties.entries());t<n.length;t++){var r=n[t],a=r[0];if(r[1]===e)return a}if(rt(e.parent)&&Array.isArray(e.parent.items))for(var i=0;i<e.parent.items.length;i++)if(e.parent.items[i]===e)return"["+i+"]";return"<No label>"}),it=function(e){return function(e,t){switch(t){case Ge:return{type:t,schema:Object(me.cloneDeep)(Object(me.omit)(e,["properties"])),properties:new Map,uuid:Object(de.a)()};case Ve:return{type:t,schema:Object(me.cloneDeep)(Object(me.omit)(e,["items"])),items:[],uuid:Object(de.a)()};case qe:return{type:t,schema:Object(me.cloneDeep)(e),uuid:Object(de.a)()};default:return{type:Ke,schema:Object(me.cloneDeep)(e),uuid:Object(de.a)()}}}(e,ct(e))},ot=function(e){var t=void 0;if(se()(e,{cb:{pre:function(e,n,r,a,i,o,c){var l=it(e);l.parent=t;var u=n.split("/");nt(t)&&"properties"===u[u.length-2]?t.properties.set(""+c,l):rt(t)&&"items"===u[u.length-2]?t.items.push(l):rt(t)&&"items"===u[u.length-1]?t.items=l:t&&(t.other||(t.other=new Map),t.other.set(""+c,l)),t=l},post:function(){t=(null===t||void 0===t?void 0:t.parent)||t}}}),t)return t},ct=function(e){if(!e)return Ke;if(e.type)switch(e.type){case"object":return Ge;case"array":return Ve;case"number":case"integer":case"string":case"boolean":case"const":return qe;default:return Ke}return e.properties?Ge:e.items?Ve:e.enum?qe:Ke},lt=function e(t){var n=Object(me.cloneDeep)(t.schema);switch(t.type){case Ge:t.properties.size>0&&(n.properties={},t.properties.forEach((function(t,r){n.properties[r]=e(t)})));break;case Ve:Array.isArray(t.items)?n.items=t.items.map(e):n.items=e(t.items)}return n},ut=function e(t){var n;if(!t)return t;switch(delete t.linkedUISchemaElements,t.type){case Ge:t.properties.size>0&&(t.properties=Array.from(t.properties).reduce((function(t,n){var r=n[0],a=n[1],i=e(a);return i&&t.set(r,i),t}),new Map));break;case Ve:Array.isArray(t.items)?t.items=t.items.map(e).filter((function(e){return void 0!==e})):t.items=null!==(n=e(t.items))&&void 0!==n?n:[]}return t},st=function e(t,n){return void 0===n&&(n={}),nt(t)&&Array.from(t.properties).forEach((function(t){var r=t[0],a=t[1];nt(a)&&(n[r]=e(a,{}))})),n},mt=function(e){return function(e){var t;return"calulatePathError"===(null===(t=e)||void 0===t?void 0:t.id)}(e)||function(e){var t;return"getPathError"===(null===(t=e)||void 0===t?void 0:t.id)}(e)},dt=function(e){return function(e){var t;return"noUUIDError"===(null===(t=e)||void 0===t?void 0:t.id)}(e)||function(e){var t;return"getByUUIDError"===(null===(t=e)||void 0===t?void 0:t.id)}(e)},pt=function e(t){return(null===t||void 0===t?void 0:t.parent)?e(t.parent):t},ft=function(e,t){var n=pt(e),r=vt(n,t);return r||{id:"getByUUIDError",root:n,uuid:t}},ht=function(e,t){if(t&&e){var n=ft(e,t);return dt(n)?void 0:n}},vt=function e(t,n){if(!n)return{id:"noUUIDError"};if(t&&t.uuid===n)return t;if(t)for(var r=t instanceof Map?t.entries():Object.entries(t),a=0,i=Array.from(r);a<i.length;a++){var o,c=i[a],l=c[0],u=c[1];if(u&&u.uuid===n)return u;if("object"===typeof u&&"parent"!==l)if(o=e(u,n))return o;if("object"===typeof l)if(o=e(l,n))return o}},yt=function(e,t){var n=gt(e,t);return n||{id:"calulatePathError",root:e,element:t}},gt=function e(t,n){if(n.uuid&&t.uuid===n.uuid)return[];for(var r=t instanceof Map?t.entries():Object.entries(t),a=0,i=Array.from(r);a<i.length;a++){var o,c=i[a],l=c[0],u=c[1];if(n.uuid&&(null===u||void 0===u?void 0:u.uuid)===n.uuid)return[l];if(n.uuid&&(null===l||void 0===l?void 0:l.uuid)===n.uuid)return[u];if("object"===typeof u&&"parent"!==l)if(o=e(u,n))return _e([l],o);if("object"===typeof l)if(o=e(l,n))return _e([u],o)}},Et=function(e,t){var n=bt(e,t);return n||{id:"getPathError",root:e,path:t}},bt=function(e,t){if(0===t.length)return e;var n=t[0],r=t.slice(1);if(e instanceof Map){if(e.has(n))return Et(e.get(n),r);var a=Array.from(e.entries()).reduce((function(e,t){var r=t[0];return t[1]===n?r:e}),void 0);return Et(a,r)}return Et(Object(me.get)(e,[n]),r)},Ot=function(e,t){return e.uuid?((t.linkedUISchemaElements=t.linkedUISchemaElements||new Set).add(e.uuid),e.linkedSchemaElement=t.uuid,!0):(console.error("Found element without UUID",e),!1)},jt=function(e,t){return e&&t?(St(t,(function(t){if(wt(t)){var n=xt(e,t.scope);n&&!mt(n)&&Ot(t,n)}})),{schema:e,uiSchema:t}):{schema:e,uiSchema:t}},St=function(e,t,n){return Ct(e,t,void 0,n)},Ct=function e(t,n,r,a){var i;return n(t,r,a),t&&Object(pe.isLayout)(t)&&t.elements.forEach((function(r){return e(r,n,t,a)})),(null===(i=null===t||void 0===t?void 0:t.options)||void 0===i?void 0:i.detail)&&e(t.options.detail,n,t,a),a},xt=function(e,t){var n=pt(e),r=t.split("/").filter((function(e){return"#"!==e&&void 0!==e&&""!==e}));return Et(n,r)},Dt=function(e){return JSON.stringify(e,null,2)},It=function(e){return!!(null===e||void 0===e?void 0:e.type)&&!!(null===e||void 0===e?void 0:e.uuid)},wt=function(e){return It(e)&&Object(pe.isControl)(e)},Ut=function(e){return It(e)&&Object(pe.isLayout)(e)},kt=function(e){var t=Object(me.cloneDeep)(e);return St(t,(function(e,t){e&&(e.parent=t,e.uuid=Object(de.a)())})),t},Nt=function(e){var t=Object(me.cloneDeep)(e);return St(t,(function(e){var t;e.parent=null===(t=e.parent)||void 0===t?void 0:t.uuid})),t},Pt=function(e){var t=pt(e),n=yt(t,e);return mt(n)?n:"/"+n.join("/")},Tt=function(e){var t;return null===(t=Be(e).find((function(e){var t,n,r;return(null===(r=null===(n=null===(t=e.parent)||void 0===t?void 0:t.options)||void 0===n?void 0:n.detail)||void 0===r?void 0:r.uuid)===e.uuid})))||void 0===t?void 0:t.parent},At=function(e){return St(e,(function(e,t,n){wt(e)&&(n.containsControls=!0)}),{containsControls:!1}).containsControls},Mt=function(e,t,n,r){var a=function(e,t){var n=Object(me.cloneDeep)(e);return t?ft(n,t):n}(e,t);return dt(a)?(console.error("An error occured when cloning element with UUID",t),n):r(a)},Lt=function(e,t,n,r,a,i){return Mt(e,t,a,(function(e){return Mt(n,r,a,(function(t){return i(e,t)}))}))},$t="jsonforms-editor/SET_SCHEMA",zt="jsonforms-editor/SET_UISCHEMA",Rt="jsonforms-editor/SET_SCHEMAS",Jt="jsonforms-editor/ADD_SCOPED_ELEMENT_TO_LAYOUT",Wt="jsonforms-editor/ADD_UNSCOPED_ELEMENT_TO_LAYOUT",Ft="jsonforms-editor/MOVE_UISCHEMA_ELEMENT",_t="jsonforms-editor/REMOVE_UISCHEMA_ELEMENT",Ht="jsonforms-editor/UPDATE_UISCHEMA_ELEMENT",Bt="jsonforms-editor/ADD_DETAIL",Gt=function(e){return{type:$t,schema:e}},Vt=function(e){return{type:zt,uiSchema:e}},qt=function(e,t,n,r){return{type:Jt,uiSchemaElement:e,layoutUUID:t,index:n,schemaUUID:r}},Kt=function(e,t,n){return{type:Wt,uiSchemaElement:e,layoutUUID:t,index:n}},Yt=function(e,t,n,r){return{type:Ft,elementUUID:e,newContainerUUID:t,index:n,schemaUUID:r}},Qt=function(e){return{type:_t,elementUUID:e}},Xt=function(e,t){return{type:Ht,elementUUID:e,changedProperties:t}},Zt=function(e,t){return{type:Bt,uiSchemaElementId:e,detail:t}},en=function(e,t){switch(t.type){case Wt:return e?Mt(e,t.layoutUUID,e,(function(e){var n=t.uiSchemaElement;return n.parent=e,e.elements.splice(t.index,0,n),pt(e)})):e;case Ht:return e?Mt(e,t.elementUUID,e,(function(e){var n,r,a=null===(n=e.options)||void 0===n?void 0:n.detail;return Object(me.assign)(e,t.changedProperties),a&&!(null===(r=e.options)||void 0===r?void 0:r.detail)&&(e.options=e.options||{},e.options.detail=a),pt(e)})):e}return e},tn=function(e,t){switch(t.type){case $t:return Mt(e.uiSchema,void 0,e,(function(e){return jt(ot(t.schema),(n=e)?(St(n,(function(e){return delete e.linkedSchemaElement,e})),n):n);var n}));case zt:return Mt(e.schema,void 0,e,(function(n){var r;return null===(r=e.categorizationService)||void 0===r||r.clearTabSelections(),jt(ut(n),kt(t.uiSchema))}));case Rt:return jt(ot(t.schema),kt(t.uiSchema));case Jt:return Lt(e.uiSchema,t.layoutUUID,e.schema,t.schemaUUID,e,(function(n,r){var a=t.uiSchemaElement;return a.parent=n,n.elements.splice(t.index,0,a),r&&Ot(a,r)?{schema:pt(r),uiSchema:pt(n)}:(console.error("Could not add new UI element",a),e)}));case Ft:return Lt(e.uiSchema,t.newContainerUUID,e.schema,t.schemaUUID,e,(function(n,r){var a,i=ft(n,t.elementUUID);if(dt(i))return console.error("Could not find corresponding element ",i),e;var o=null===(a=i.parent)||void 0===a?void 0:a.uuid,c=i.parent?i.parent.elements.indexOf(i):-1,l=nn(i,r);if(dt(l))return console.error("Could not remove ui element ",l),e;if(i.parent=n,n&&Ut(n)){var u=t.newContainerUUID===o&&-1!==c&&c<t.index?t.index-1:t.index;n.elements.splice(u,0,i)}else{if(!n||!wt(n))return console.error("Move encountered an invalid case"),e;n.options=Re(Re({},n.options),{detail:i})}return i.linkedSchemaElement&&(r.linkedUISchemaElements=r.linkedUISchemaElements||new Set).add(i.uuid),{schema:void 0!==t.schemaUUID?pt(r):e.schema,uiSchema:pt(n)}}));case _t:return Lt(e.uiSchema,t.elementUUID,e.schema,void 0,e,(function(t,n){if(!t)return console.error("Could not remove ui element ",t),e;var r=nn(t,n,e.categorizationService);return dt(r)?(console.error("Could not remove ui element ",r),e):{schema:n,uiSchema:t.parent?pt(t):void 0}}));case Bt:return Lt(e.schema,void 0,e.uiSchema,void 0,e,(function(n,r){var a=ft(r,t.uiSchemaElementId);return dt(a)?(console.error("Could not find ui schema element with id",a),e):St(t.detail,(function(e,r,a){if(e.linkedSchemaElement){var i=ft(n,e.linkedSchemaElement);dt(i)&&(console.error("Could not find schema element with id",i),a.error=!0),(i.linkedUISchemaElements=i.linkedUISchemaElements||new Set).add(t.detail.uuid)}}),{error:!1}).error?e:(a.options=a.options||{},a.options.detail=t.detail,t.detail.parent=a,{schema:n,uiSchema:r})}))}return e},nn=function(e,t,n){var r,a;if(t&&e.linkedSchemaElement){var i=e.uuid;if(!i)return{id:"noUUIDError",element:e};var o=pt(t),c=ft(o,e.linkedSchemaElement);dt(c)||null===(r=c.linkedUISchemaElements)||void 0===r||r.delete(i)}if(e.parent){if(e.parent.elements){var l=e.parent.elements.indexOf(e);-1!==l&&e.parent.elements.splice(l,1)}(null===(a=e.parent.options)||void 0===a?void 0:a.detail)===e&&(delete e.parent.options.detail,0===Object.keys(e.parent.options).length&&delete e.parent.options)}return"Categorization"!==e.type&&"Category"!==e.type||null===n||void 0===n||n.removeElement(e),!0},rn=function(e,t){switch(t.type){case Wt:case Ht:return{schema:e.schema,uiSchema:en(e.uiSchema,t),categorizationService:e.categorizationService};case $t:case zt:case Rt:case Jt:case Ft:case _t:case Bt:var n=tn(e,t);return n.categorizationService=e.categorizationService,n}return e},an=q.a,on=Object(l.a)(q.a)({transform:"rotate(90deg)"}),cn=G.a,ln=oe.a,un=G.a,sn=le.a,mn=Y.a,dn=ee.a,pn=ne.a,fn=X.a,hn=ae.a,vn=function(e){var t=e.type;return i.a.createElement(function(e){switch(e){case"HorizontalLayout":return on;case"VerticalLayout":return an;case"Group":return cn;case"Category":return un;case"Categorization":return ln;case"Control":return mn;case"Label":return sn;default:return hn}}(t),{})},yn=function(e){var t=e.type;return i.a.createElement(function(e){switch(e){case Ge:return dn;case Ve:return pn;case qe:return fn;default:return hn}}(t),{})},gn=function(e){return En("#"+Ze(e))},En=function(e){return{type:"Control",scope:e,uuid:Object(de.a)()}},bn=function(e){return{type:e,elements:[],uuid:Object(de.a)()}},On=[{type:"HorizontalLayout",label:"Horizontal Layout",icon:i.a.createElement(on,null),uiSchemaElementProvider:function(){return bn("HorizontalLayout")}},{type:"VerticalLayout",label:"Vertical Layout",icon:i.a.createElement(an,null),uiSchemaElementProvider:function(){return bn("VerticalLayout")}},{type:"Group",label:"Group",icon:i.a.createElement(cn,null),uiSchemaElementProvider:function(){return bn("Group")}},{type:"Label",label:"Label",icon:i.a.createElement(sn,null),uiSchemaElementProvider:function(){return{type:"Label",text:e,uuid:Object(de.a)()};var e}},{type:"Categorization",label:"Categorization",icon:i.a.createElement(ln,null),uiSchemaElementProvider:function(){return{type:"Categorization",label:e,uuid:Object(de.a)(),elements:[]};var e}}],jn=function(){this.getPaletteElements=function(){return On}},Sn=function(){var e=this;this.getSchema=function(){return We(e,void 0,void 0,(function(){return Fe(this,(function(e){return[2,void 0]}))}))},this.getUiSchema=function(){return We(e,void 0,void 0,(function(){return Fe(this,(function(e){return[2,void 0]}))}))}},Cn=Object(u.a)((function(e){return{main:{marginTop:e.spacing(2),marginBottom:e.spacing(2),minHeight:0},container:{display:"grid",height:"100vh",gridTemplateAreas:"header content footer",gridTemplateColumns:"1fr",gridTemplateRows:"auto 1fr auto"},footer:{padding:e.spacing(2,2),backgroundColor:"light"===e.palette.type?e.palette.grey[200]:e.palette.grey[800]}}})),xn=function(e){var t=e.HeaderComponent,n=e.FooterComponent,r=e.children,a=Cn();return i.a.createElement("div",{className:a.container},i.a.createElement("header",null,t?i.a.createElement(t,null):null),i.a.createElement("main",{className:a.main},r),i.a.createElement("footer",{className:n?a.footer:void 0},n?i.a.createElement(n,null):null))},Dn=function(e){return i.a.createElement("pre",null,JSON.stringify(e,null,2))},In=Object(u.a)((function(e){return{tabContent:{padding:e.spacing(1,1,0,1),height:"100%",overflow:"auto"}}})),wn=function(e){var t=e.children,n=e.index,r=e.currentIndex,a=Je(e,["children","index","currentIndex"]),o=In();return i.a.createElement("div",Re({hidden:r!==n,className:o.tabContent},a),r===n&&t)},Un=i.a.createContext(undefined),kn=function(){return Object(a.useContext)(Un)},Nn=function(){return kn().schema},Pn=function(){return kn().uiSchema},Tn=function(){var e=kn();return[e.selection,e.setSelection]},An=function(){return kn().dispatch},Mn=function(e){return e?lt(e):e},Ln=function(e){return e?function(e){var t=Object(me.cloneDeep)(e);return St(t,(function(e){delete e.parent,delete e.linkedSchemaElement,delete e.uuid})),t}(e):void 0},$n=function(){var e=Nn();return Rn(e,Mn)},zn=function(){var e=Pn();return Rn(e,Ln)},Rn=function(e,t){var n=Object(a.useState)(t(e)),r=n[0],i=n[1];return Jn((function(){return i(t(e))}),[e,t]),r},Jn=function(e,t){var n=Object(a.useRef)(!0);Object(a.useEffect)((function(){n.current?n.current=!1:e()}),_e(t))},Wn=Object(u.a)((function(e){return Object(T.a)({button:{margin:e.spacing(1)},title:{textAlign:"center"},content:{maxHeight:"90vh",height:"90vh"}})})),Fn=function(e){var t=e.open,n=e.onClose,r=e.schema,o=e.uiSchema,c=Wn(),l=Object(a.useState)(0),u=l[0],s=l[1];return i.a.createElement(d.a,{open:t,keepMounted:!0,onClose:n,"aria-labelledby":"export-dialog-title","aria-describedby":"export-dialog-description",maxWidth:"md",fullWidth:!0},i.a.createElement(p.a,{className:c.title,id:"export-dialog-title"},"Export"),i.a.createElement(f.a,{className:c.content},i.a.createElement(C.a,{value:u,onChange:function(e,t){s(t)}},i.a.createElement(x.a,{label:"Schema"}),i.a.createElement(x.a,{label:"UI Schema"})),i.a.createElement(ve.a,{xsUp:0!==u},i.a.createElement(Dn,{object:r})),i.a.createElement(ve.a,{xsUp:1!==u},i.a.createElement(Dn,{object:o}))),i.a.createElement(v.a,null,i.a.createElement(y.a,{"aria-label":"Close",variant:"contained",color:"primary",className:c.button,startIcon:i.a.createElement(ge.a,null),onClick:n},"Close")))},_n=Object(u.a)((function(){return Object(T.a)({title:{flexGrow:1}})})),Hn=function(){var e=_n(),t=$n(),n=zn(),r=Object(a.useState)(!1),o=r[0],c=r[1];return i.a.createElement(S.a,{position:"static",elevation:0},i.a.createElement(k.a,null,i.a.createElement(m.a,{variant:"h6",color:"inherit",noWrap:!0,className:e.title},"JSON Forms Editor"),i.a.createElement(b.a,{"aria-label":"Download",onClick:function(){return c(!0)},color:"inherit"},i.a.createElement(he.a,null))),o&&i.a.createElement(Fn,{open:o,onClose:function(){return c(!1)},schema:t,uiSchema:n}))},Bn=Object(u.a)((function(){return{container:{display:"flex",flexDirection:"row",justifyContent:"flex-end"}}})),Gn=function(){var e=Bn();return i.a.createElement(s.a,{className:e.container},i.a.createElement(m.a,{variant:"body2",color:"textSecondary"},"Copyright \xa9 "+(new Date).getFullYear()))},Vn=function(e){var t=e.open,n=e.title,r=e.text,a=e.onClose;return i.a.createElement(d.a,{open:t,onClose:a},i.a.createElement(p.a,null,n),i.a.createElement(f.a,null,i.a.createElement(h.a,null,r)),i.a.createElement(v.a,null,i.a.createElement(y.a,{onClick:a,color:"primary",autoFocus:!0},"OK")))},qn=function(e){var t=e.open,n=e.title,r=void 0===n?"":n,a=e.text,o=e.onOk,c=e.onCancel;return i.a.createElement(d.a,{open:t,onClose:c},i.a.createElement(p.a,null,r),i.a.createElement(f.a,null,i.a.createElement(h.a,null,a)),i.a.createElement(v.a,null,i.a.createElement(y.a,{onClick:c,color:"primary","data-cy":"cancel-button"},"Cancel"),i.a.createElement(y.a,{onClick:o,color:"primary",autoFocus:!0,"data-cy":"ok-button"},"Ok")))},Kn=function(e){var t=e.className,n=e.children,r=Object(a.useState)(!1),o=r[0],c=r[1];return i.a.createElement("div",{className:t},i.a.createElement(g.a,{in:o},n),i.a.createElement(y.a,{size:"small",onClick:function(){c((function(e){return!e}))}},o?"Show Less":"Show More"))},Yn="newUiSchemaElement",Qn="moveUiSchemaElement",Xn=function(e,t){return{type:Yn,uiSchemaElement:e,schemaUUID:t}},Zn=function(e,t){return{type:Qn,uiSchemaElement:e,schema:t}},er=function(e,t,n){var r=ht(t,e.schemaUUID);if(r){var a=nr(r);if(!tr(a,n))return!1}return!0},tr=function(e,t){return(null===t||void 0===t?void 0:t.linkedSchemaElement)===(null===e||void 0===e?void 0:e.uuid)},nr=function(e){return function(e){return Be(e).splice(1).find(rt)}(e)},rr=function(e){return!e.parent},ar=function(e,t){return Be(t).includes(e)},ir=function(e,t,n){if(t===e.parent){var r=t.elements.indexOf(e);if(r===n||r===n-1)return!0}return!1},or=function(e,t){return At(e)&&Tt(e)!==Tt(t)},cr=Object(u.a)((function(e){return{editorElement:{border:"1px solid #d3d3d3",padding:e.spacing(1),opacity:1,backgroundColor:"#fafafa",width:"100%",alignSelf:"baseline",minWidth:"fit-content"},elementDragging:{opacity:.5},elementSelected:{border:"1px solid #a9a9a9",backgroundColor:"rgba(63, 81, 181, 0.08)"},elementHeader:{"&:hover $elementControls":{opacity:1}},elementControls:{opacity:0},rule:{fontWeight:"bolder",color:e.palette.text.primary,marginRight:e.spacing(.5),marginLeft:e.spacing(1)},ruleEffect:{fontStyle:"italic",color:e.palette.text.secondary}}})),lr=function(e){var t,n=e.wrappedElement,r=e.elementIcon,a=e.children,o=Nn(),c=Tn(),l=c[0],u=c[1],s=An(),d=i.a.useState(!1),p=d[0],f=d[1],h=ht(o,n.linkedSchemaElement),v=Object(J.a)({item:Zn(n,h),collect:function(e){return{isDragging:!!e.isDragging()}}}),y=v[0].isDragging,g=v[1],O=cr(),j=Pt(n),S=(null===l||void 0===l?void 0:l.uuid)===n.uuid,C=null===(t=n.rule)||void 0===t?void 0:t.effect.toLocaleUpperCase(),x=null!==r&&void 0!==r?r:h?i.a.createElement(yn,{type:h.type}):i.a.createElement(vn,{type:n.type});return i.a.createElement(E.a,{item:!0,"data-cy":"editorElement-"+j,className:O.editorElement+" "+(y?O.elementDragging:"")+" "+(S?O.elementSelected:""),ref:g,onClick:function(e){e.stopPropagation();var t={uuid:n.uuid};u(t)}},i.a.createElement(E.a,{item:!0,container:!0,direction:"row",wrap:"nowrap",className:O.elementHeader,"data-cy":"editorElement-"+j+"-header"},i.a.createElement(E.a,{item:!0,container:!0,alignItems:"center",xs:!0},x,C?i.a.createElement(E.a,{item:!0,container:!0,direction:"row",alignItems:"center",wrap:"nowrap",xs:!0},i.a.createElement(m.a,{variant:"subtitle2",className:O.rule},"R"),i.a.createElement(m.a,{variant:"caption",className:O.ruleEffect},"("+C+")")):null,wt(n)&&i.a.createElement(E.a,{item:!0,container:!0,direction:"row",alignItems:"center",wrap:"nowrap",xs:!0},i.a.createElement(m.a,{variant:"caption",className:O.ruleEffect},n.scope))),i.a.createElement(E.a,{item:!0,container:!0,className:O.elementControls,justify:"flex-end",alignItems:"center",xs:!0},i.a.createElement(b.a,{"data-cy":"editorElement-"+j+"-removeButton",size:"small",onClick:function(){var e;e=n,Object(pe.isLayout)(e)&&e.elements.length?f(!0):s(Qt(n.uuid))}},i.a.createElement(je.a,null)),i.a.createElement(qn,{open:p,text:"Remove element and all its contents from the UI Schema?",onOk:function(){s(Qt(n.uuid)),f(!1)},onCancel:function(){return f(!1)}}))),a)},ur=function(e){var t=e.uischema,n=e.schema,r=e.path,o=e.renderers,c=e.cells,l=Object(a.useMemo)((function(){return Object(me.omit)(t,["rule"])}),[t]);return i.a.createElement(lr,{wrappedElement:t},i.a.createElement(be.ResolvedJsonFormsDispatch,{uischema:l,schema:n,path:r,renderers:null===o||void 0===o?void 0:o.filter((function(e){return e.renderer!==ur})),cells:c}))},sr={tester:Object(pe.rankWith)(50,(function(){return!0})),renderer:ur},mr=Object(u.a)({root:function(e){var t=e.isOver;return{padding:10,fontSize:t?"1.1em":"1em",border:t?"1px solid #D3D3D3":"none"}}}),dr={tester:Object(pe.rankWith)(40,pe.isObjectArrayControl),renderer:Object(be.withJsonFormsArrayControlProps)((function(e){var t,n=e.uischema,r=e.schema,o=e.path,c=e.renderers,l=e.cells,u=An(),s=Nn(),d=Object(W.a)({accept:[Yn,Qn],canDrop:function(e){switch(e.type){case Yn:return er(e,s,n);case Qn:return!At(h)}return!1},collect:function(e){var t;return{isOver:!!e.isOver()&&e.canDrop(),uiSchemaElement:null===(t=e.getItem())||void 0===t?void 0:t.uiSchemaElement}},drop:function(e){switch(e.type){case Yn:u(Zt(n.uuid,h));break;case Qn:u(Yt(h.uuid,n.uuid,0))}}}),p=d[0],f=p.isOver,h=p.uiSchemaElement,v=d[1],y=mr({isOver:f}),g=Object(a.useMemo)((function(){return c&&_e(c,[sr])}),[c]);return(null===(t=n.options)||void 0===t?void 0:t.detail)?i.a.createElement(be.JsonFormsDispatch,{schema:r,uischema:n.options.detail,path:o,renderers:g,cells:l}):i.a.createElement(m.a,{ref:v,className:y.root},"Default array layout. Drag and drop an item here to customize array layout.")}))},pr={tester:Object(pe.rankWith)(40,pe.isCategorization),renderer:Object(be.withJsonFormsLayoutProps)((function(e){var t=e.uischema,n=e.schema,r=e.path,o=e.renderers,c=e.cells,l=Tn()[1],u=kn().categorizationService,s=t.elements,m=Object(me.findIndex)(s,(function(e){var n;return e.uuid===(null===(n=u.getTabSelection(t))||void 0===n?void 0:n.uuid)})),d=Object(a.useState)(-1===m?void 0:m),p=d[0],f=d[1],h=0===s.length?"primary":"secondary",v=function(e,n){if(null===n||void 0===n||n.stopPropagation(),e<s.length){var r=s[e].uuid;u.setTabSelection(t,{uuid:r}),l({uuid:r}),f(e)}},y=Object(a.useMemo)((function(){return o&&_e(o,[sr])}),[o]),g=function(e,t){"number"===typeof t&&v(t,e)},E=function(e){var n={type:"Category",elements:[],label:"New Tab "+(s.length+1),uuid:Object(de.a)()};n.parent=t,s.push(n),v(s.length-1,e)};return void 0!==p&&(0===s.length?f(void 0):p>s.length-1?v(s.length-1):p!==m&&v(p)),i.a.createElement(O.a,null,i.a.createElement(j.a,{component:function(){return i.a.createElement(S.a,{position:"static"},i.a.createElement(C.a,{indicatorColor:h,value:void 0!==p&&p,onChange:g,variant:"scrollable"},s.map((function(e,t){return i.a.createElement(x.a,{key:t,label:e.label})})),i.a.createElement(x.a,{key:s.length,icon:i.a.createElement("span",null,i.a.createElement(Se.a,{fontSize:"small"}),i.a.createElement(Ce.a,null)),onClick:E})))}}),i.a.createElement(D.a,null,s.length>0&&void 0!==p?i.a.createElement(be.JsonFormsDispatch,{schema:n,uischema:s[p],path:r,renderers:y,cells:c}):0===s.length&&i.a.createElement("span",null,"No Category. Use ",i.a.createElement(Se.a,{fontSize:"small"}),i.a.createElement(Ce.a,null)," to add a new tab.")))}))},fr=Object(u.a)((function(){return{jsonformsGridItem:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%"}}})),hr=function(e){var t=e.schema,n=e.layout,r=e.path,a=e.direction,o=e.renderers,c=e.cells,l=fr();return i.a.createElement(E.a,{container:!0,direction:a,spacing:"row"===a?2:0,wrap:"nowrap"},i.a.createElement(yr,{index:0,layout:n,key:r+"-0-drop"}),n.elements.map((function(e,a){return i.a.createElement(i.a.Fragment,{key:r+"-"+a+"-fragment"},i.a.createElement(E.a,{item:!0,key:r+"-"+a,className:l.jsonformsGridItem,xs:!0},i.a.createElement(be.ResolvedJsonFormsDispatch,{uischema:e,schema:t,path:r,renderers:o&&_e(o,[sr]),cells:c})),i.a.createElement(yr,{index:a+1,layout:n,key:r+"-"+(a+1)+"-drop"}))})))},vr=Object(u.a)((function(e){return{dropPointGridItem:function(t){return{padding:e.spacing(1),backgroundImage:t.isOver?"radial-gradient(#c8c8c8 1px, transparent 1px)":"none",backgroundSize:"calc(10 * 1px) calc(10 * 1px)",backgroundClip:"content-box",minWidth:"2em",minHeight:t.isOver?"8em":"2em",maxWidth:t.fillWidth||t.isOver?"inherit":"2em"}}}})),yr=function(e){var t=e.layout,n=e.index,r=An(),a=Nn(),o=Object(W.a)({accept:[Yn,Qn],canDrop:function(e,r){switch(e.type){case Yn:return function(e,t,n){var r=Tt(n);return er(e,t,r)}(e,a,t);case Qn:return function(e,t,n){var r=e.uiSchemaElement;return!rr(r)&&!ar(r,t)&&!ir(r,t,n)&&!or(r,t)}(e,t,n)}return!1},collect:function(e){var t,n;return{isOver:!!e.isOver()&&e.canDrop(),uiSchemaElement:null===(t=e.getItem())||void 0===t?void 0:t.uiSchemaElement,schemaUUID:null===(n=e.getItem())||void 0===n?void 0:n.schemaUUID}},drop:function(e){switch(e.type){case Yn:r(s?qt(u,t.uuid,n,s):Kt(u,t.uuid,n));break;case Qn:r(Yt(u.uuid,t.uuid,n,s))}}}),c=o[0],l=c.isOver,u=c.uiSchemaElement,s=c.schemaUUID,m=o[1],d="HorizontalLayout"!==t.type||0===t.elements.length,p=vr({isOver:l,fillWidth:d});return i.a.createElement(E.a,{item:!0,container:!0,ref:m,className:p.dropPointGridItem,"data-cy":gr(t)+"-drop-"+n,xs:!0})},gr=function(e){var t=Pt(e);return mt(t)?(console.error("Could not calculate data-cy path for DropPoint",t),""):t},Er=function(e){return function(t){var n=t.uischema,r=t.path,a=t.renderers,o=Je(t,["uischema","path","renderers"]),c=n;return i.a.createElement(hr,Re({},o,{path:r,layout:c,direction:e,renderers:a}))}},br={tester:Object(pe.rankWith)(45,Object(pe.uiTypeIs)("HorizontalLayout")),renderer:Object(be.withJsonFormsLayoutProps)(Er("row"))},Or={tester:Object(pe.rankWith)(45,Object(pe.uiTypeIs)("VerticalLayout")),renderer:Object(be.withJsonFormsLayoutProps)(Er("column"))},jr={tester:Object(pe.rankWith)(45,Object(pe.uiTypeIs)("Category")),renderer:Object(be.withJsonFormsLayoutProps)((function(e){var t=e.uischema;return i.a.createElement(O.a,null,i.a.createElement(D.a,null,i.a.createElement(hr,Re({},e,{layout:t,direction:"column"}))))}))},Sr=Object(u.a)((function(e){return{groupLabel:{padding:e.spacing(2),alignItems:"baseline"},labelPlaceholder:{fontStyle:"italic",fontWeight:"lighter",color:"#9e9e9e"},groupLabelInput:{fontSize:e.typography.h6.fontSize}}})),Cr={tester:Object(pe.rankWith)(45,Object(pe.uiTypeIs)("Group")),renderer:Object(be.withJsonFormsLayoutProps)((function(e){var t=e.uischema,n=Sr();return i.a.createElement(O.a,null,i.a.createElement(j.a,{component:function(){var e;return i.a.createElement(E.a,{container:!0,direction:"row",spacing:1,className:n.groupLabel},i.a.createElement(E.a,{item:!0},i.a.createElement(m.a,null,"Label:")),i.a.createElement(E.a,{item:!0},i.a.createElement(m.a,{className:""+(t.label?"":n.labelPlaceholder),variant:"h6"},null!==(e=t.label)&&void 0!==e?e:"no label")))}}),i.a.createElement(D.a,null,i.a.createElement(hr,Re({},e,{layout:t,direction:"column"}))))}))},xr={useDefaults:!0},Dr=function(){var e=$n(),t=zn(),n=Nn(),r=Object(a.useMemo)((function(){return n?st(n):{}}),[n]),o=Object(pe.createAjv)(xr);return i.a.createElement(be.JsonForms,{ajv:o,data:r,schema:e,uischema:t,renderers:Ee.materialRenderers,cells:Ee.materialCells})},Ir=Object(u.a)({root:function(e){return{padding:10,fontSize:e.isOver?"1.1em":"1em",border:e.isOver?"1px solid #D3D3D3":"none",height:"100%"}}}),wr=function(){var e=An(),t=Object(W.a)({accept:Yn,collect:function(e){var t;return{isOver:!!e.isOver(),uiSchemaElement:null===(t=e.getItem())||void 0===t?void 0:t.uiSchemaElement}},drop:function(){e(Vt(a))}}),n=t[0],r=n.isOver,a=n.uiSchemaElement,o=t[1],c=Ir({isOver:r});return i.a.createElement("div",{ref:o,className:c.root},i.a.createElement(m.a,{"data-cy":"nolayout-drop"},"Drag and drop an element from the Palette to begin."))},Ur=Object(I.a)({overrides:{MuiFormControl:{root:{overflow:"hidden"}}}}),kr=function(e){var t=e.editorRenderers,n=$n(),r=Pn();return r?i.a.createElement(E.a,{container:!0},i.a.createElement(w.a,{theme:Ur},i.a.createElement(be.JsonForms,{data:{},schema:n,uischema:r,renderers:t,cells:Ee.materialCells}))):i.a.createElement(wr,null)},Nr=Object(u.a)((function(){return{editorPanel:{height:"100%",display:"grid",gridTemplateColumns:"1fr",gridTemplateRows:"auto 1fr "}}})),Pr=function(e){var t=e.editorTabs,n=e.editorRenderers,r=Object(a.useState)(0),o=r[0],c=r[1],l=Nr();return i.a.createElement("div",{className:l.editorPanel},i.a.createElement(C.a,{value:o,onChange:function(e,t){c(t)}},i.a.createElement(x.a,{label:"Editor"}),t?t.map((function(e){return i.a.createElement(x.a,{key:"tab-"+e.name,label:e.name})})):null),i.a.createElement(wn,{index:0,currentIndex:o},i.a.createElement(kr,{editorRenderers:n})),t?t.map((function(e,t){return i.a.createElement(wn,{key:"content-"+(t+1),index:t+1,currentIndex:o},i.a.createElement(e.Component,null))})):null)},Tr=[{name:"Preview",Component:Dr}],Ar=_e(Ee.materialRenderers,[br,Or,sr,Cr,jr,dr,pr]),Mr=function(){var e=Object({NODE_ENV:"production",PUBLIC_URL:"/content/admin/jsonformeditor",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}),t=e.REACT_APP_DEBUG,n=void 0===t?"false":t;return{NODE_ENV:e.NODE_ENV,DEBUG:n}},Lr={uri:"http://json-schema.org/draft-07/schema",schema:{$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},writeOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}},$r={uri:"http://jsonforms.io/uischema/rule",schema:{$schema:"http://json-schema.org/draft-07/schema#",$id:"http://jsonforms.io/uischema/rule",title:"Rule UI schema meta-schema",type:["object"],properties:{effect:{description:"The effect of the rule",type:"string",enum:["HIDE","SHOW","ENABLE","DISABLE"]},condition:{description:"The condition of the rule that must evaluate to true in order to trigger the effect.",oneOf:[{$ref:"#/definitions/leafCondition"},{$ref:"#/definitions/schemaBasedCondition"},{$ref:"#/definitions/orCondition"},{$ref:"#/definitions/andCondition"}]}},required:["effect","condition"],definitions:{condition:{type:"object",properties:{type:{type:"string",readOnly:!0}}},scopable:{type:"object",properties:{scope:{type:"string"}},required:["scope"]},leafCondition:{allOf:[{$ref:"#/definitions/scopable"},{properties:{type:{const:"LEAF"},expectedValue:{}},required:["type","expectedValue"]}]},schemaBasedCondition:{allOf:[{$ref:"#/definitions/scopable"},{$ref:"#/definitions/condition"},{properties:{schema:{$ref:"http://json-schema.org/draft-07/schema#"}},required:["schema"]}]},composableCondition:{allOf:[{$ref:"#/definitions/condition"},{properties:{conditions:{type:"array",items:{$ref:"#/definitions/condition"}}},required:["conditions"]}]},orCondition:{allOf:[{$ref:"#/definitions/composableCondition"},{properties:{type:{const:"OR"}},required:["type"]}]},andCondition:{allOf:[{$ref:"#/definitions/composableCondition"},{properties:{type:{const:"AND"}},required:["type"]}]}}}},zr=function(e,t){var n=e.languages.json.jsonDefaults.diagnosticsOptions.schemas;if(void 0===n)e.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,schemas:_e(t)});else for(var r=function(e){var t=e.fileMatch;n.find((function(n){return n.fileMatch===t&&n.uri===e.uri}))||n.push(Re({},e))},a=0,i=t;a<i.length;a++){r(i[a])}},Rr=function(e,t){var n=null!==t&&void 0!==t?t:"",r=Ne.editor.getModel(e);return r?r.setValue(n):r=Ne.editor.createModel(n,"json",e),r},Jr=Object(u.a)((function(e){return Object(T.a)({appBar:{position:"relative"},toolbar:{display:"flex",justifyContent:"space-between"},title:{marginLeft:e.spacing(2),flex:1},dialogPaper:{height:"100%",minHeight:"95vh",maxHeight:"95vh"},dialogContent:{overflow:"hidden",marginTop:e.spacing(2),flex:1}})})),Wr=i.a.forwardRef((function(e,t){return i.a.createElement(U.a,Re({ref:t},e))})),Fr=function(e){var t=e.open,n=e.title,r=e.initialContent,o=e.type,c=e.onApply,l=e.onCancel,u=Jr(),s=Ne.Uri.parse("json://core/specification/schema.json"),p=Object(a.useCallback)((function(e){"JSON Schema"===o&&function(e,t){zr(e,[Re(Re({},Lr),{fileMatch:[t.toString()]})])}(e,s)}),[o,s]),h=Object(a.useMemo)((function(){return Rr(s,r)}),[r,s]),v=Object(a.useCallback)((function(e){h.isDisposed()||e.setModel(h)}),[h]);return i.a.createElement(d.a,{open:t,onClose:l,TransitionComponent:Wr,classes:{paper:u.dialogPaper},maxWidth:"lg",fullWidth:!0},i.a.createElement(S.a,{className:u.appBar},i.a.createElement(k.a,{className:u.toolbar},i.a.createElement(b.a,{edge:"start",color:"inherit",onClick:l,"aria-label":"cancel","data-cy":"cancel"},i.a.createElement(ke.a,null)),i.a.createElement(m.a,{variant:"h6",color:"inherit",noWrap:!0},n," Text Edit"),i.a.createElement(y.a,{variant:"contained",onClick:function(){return c(h.getValue())},"data-cy":"apply"},"Apply"))),i.a.createElement(f.a,{className:u.dialogContent},i.a.createElement(Te.a,{language:"json",editorDidMount:function(e){v(e),e.focus()},editorWillMount:p})))},_r=function(e){var t=e.title,n=e.schema,r=e.debugSchema,o=e.type,c=e.updateSchema,l=Object(a.useState)(!1),u=l[0],s=l[1],m=Object(a.useState)(""),d=m[0],p=m[1],f=r&&"true"===Mr().DEBUG,h=Object(a.useState)(!!f),v=h[0],y=h[1],g=Boolean(d);return i.a.createElement(i.a.Fragment,null,i.a.createElement(k.a,null,i.a.createElement(b.a,{onClick:function(){return function(e){var t=document.createElement("textarea");document.body.appendChild(t),t.value=e,t.select(),document.execCommand("copy"),document.body.removeChild(t)}(v&&r?r:n)},"data-cy":"copy-clipboard"},i.a.createElement(we.a,null)),i.a.createElement(b.a,{onClick:function(){return s(!0)},"data-cy":"edit-schema"},i.a.createElement(De.a,null)),f?i.a.createElement(N.a,{control:i.a.createElement(P.a,{"data-cy":"debug-toggle",checked:v,onChange:function(){return y((function(e){return!e}))},color:"primary"}),label:"Debug"}):null),i.a.createElement("pre",{"data-cy":"schema-text"},v?r:n),u&&i.a.createElement(Fr,{open:!0,title:t,initialContent:n,type:o,onCancel:function(){return s(!1)},onApply:function(e){var t=c(e);t.success?s(!1):p(t.message)}}),g&&i.a.createElement(Vn,{open:!0,title:"Update Error",text:d,onClose:function(){return p("")}}))},Hr=function(e){var t=Object(Le.useSpring)({from:{opacity:0,transform:"translate3d(20px,0,0)",filter:"blur(0)"},to:{opacity:e.in?1:0,transform:"translate3d("+(e.in?0:20)+"px,0,0)",filter:"blur(0)"}});return i.a.createElement(Le.animated.div,{style:t},i.a.createElement(g.a,Re({},e)))},Br=Object(l.a)(Me.a)({flexGrow:1,maxWidth:400}),Gr=Object(M.a)((function(e){return Object(T.a)({root:function(e){return{opacity:e.isDragging?.5:1}},iconContainer:{"& .close":{opacity:.3}},group:{marginLeft:e.spacing(1),paddingLeft:e.spacing(2),borderLeft:"1px dashed "+Object(A.e)(e.palette.text.primary,.4)}})}))((function(e){e.isDragging;var t=Je(e,["isDragging"]);return i.a.createElement(Ae.a,Re({},t,{TransitionComponent:Hr}))})),Vr=function e(t){var n=t.schemaElement,r=gn(n),a=Object(J.a)({item:Xn(r,n.uuid),canDrag:function(){return"object"!==n.schema.type},collect:function(e){return{isDragging:!!e.isDragging()}}}),o=a[0].isDragging,c=a[1],l=Xe(n);return i.a.createElement("div",{ref:c,"data-cy":l+"-source"},i.a.createElement(Gr,{key:l,nodeId:l,label:at(n),icon:i.a.createElement(yn,{type:n.type}),isDragging:o},qr(n).map((function(t){return i.a.createElement(e,{schemaElement:t,key:Xe(t)})}))))},qr=function(e){return Ye(e).flatMap((function(e){return nt(e)&&rt(e.parent)&&e.parent.items===e?Ye(e):[e]}))},Kr=function(e){var t=e.schema;return i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,{variant:"h6",color:"inherit",noWrap:!0},"Controls"),void 0!==t?i.a.createElement(Br,{defaultExpanded:[""]},i.a.createElement(Vr,{schemaElement:t})):i.a.createElement(Yr,null))},Yr=function(){return i.a.createElement("div",null,"No JSON Schema available")},Qr=function(e){var t=e.uiSchemaElementProvider,n=e.type,r=e.label,a=e.icon,o=Object(J.a)({item:Xn(t()),collect:function(e){return{isDragging:!!e.isDragging()}}}),c=o[0].isDragging,l=o[1];return i.a.createElement("div",{ref:l,"data-cy":n+"-source"},i.a.createElement(Gr,{key:n,nodeId:n,label:r,icon:a,isDragging:c}))},Xr=function(e){var t=e.className,n=e.elements;return i.a.createElement("div",{className:t},i.a.createElement(m.a,{variant:"h6",color:"inherit",noWrap:!0},"Layouts & Other"),i.a.createElement(Br,{defaultExpanded:[""]},n.map((function(e){var t=e.type,n=e.label,r=e.icon,a=e.uiSchemaElementProvider;return i.a.createElement(Qr,{key:"treeitem-"+t,type:t,label:n,icon:r,uiSchemaElementProvider:a})}))))},Zr=Object(u.a)((function(e){return{uiElementsTree:{marginBottom:e.spacing(1)},palettePanel:{height:"100%",display:"flex",flexDirection:"column"}}})),ea=[{name:"JSON Schema",Component:i.a.createElement((function(e){var t=e.title,n=void 0===t?"JSON Schema":t,r=An(),a=$n(),o=Nn(),c="true"===Mr().DEBUG;return i.a.createElement(_r,{title:n,schema:Dt(a),debugSchema:o&&c?Dt(et(o)):void 0,type:"JSON Schema",updateSchema:function(e){try{var t=JSON.parse(e);return r(Gt(t)),{success:!0}}catch(n){if(n instanceof SyntaxError)return{success:!1,message:n.message};throw n}}})}),null)},{name:"UI Schema",Component:i.a.createElement((function(e){var t=e.title,n=void 0===t?"UI Schema":t,r=An(),a=zn(),o=Pn(),c="true"===Mr().DEBUG;return i.a.createElement(_r,{title:n,schema:Dt(a),debugSchema:o&&c?Dt(Nt(o)):void 0,type:"UI Schema",updateSchema:function(e){try{var t=JSON.parse(e);return r(Vt(t)),{success:!0}}catch(n){if(n instanceof SyntaxError)return{success:!1,message:n.message};throw n}}})}),null)}],ta=function(e){var t=e.paletteTabs,n=Object(a.useState)(0),r=n[0],o=n[1],c=Nn(),l=kn().paletteService,u=Zr();return i.a.createElement("div",{className:u.palettePanel},i.a.createElement(C.a,{value:r,onChange:function(e,t){o(t)},variant:"scrollable"},i.a.createElement(x.a,{label:"Palette","data-cy":"palette-tab"}),t?t.map((function(e){return i.a.createElement(x.a,{key:"tab-"+e.name,label:e.name,"data-cy":"tab-"+e.name})})):null),i.a.createElement(wn,{index:0,currentIndex:r},i.a.createElement(Xr,{className:u.uiElementsTree,elements:l.getPaletteElements()}),i.a.createElement(Kr,{schema:c})),t?t.map((function(e,t){return i.a.createElement(wn,{key:"tab-content-"+(t+1),index:t+1,currentIndex:r},e.Component)})):null)},na=i.a.createElement("div",null,i.a.createElement("h3",null,"Example"),i.a.createElement("p",null,"A rule that hides the UI Element it is contained in, when the value of the control with the scope ",i.a.createElement("b",null,"'#/properties/name'")," is ",i.a.createElement("b",null,"'foo'"),":"),i.a.createElement("pre",null,JSON.stringify({effect:"HIDE",condition:{type:"LEAF",scope:"#/properties/name",expectedValue:"foo"}},null,2)),i.a.createElement("p",null,"Visit the","  ",i.a.createElement("a",{href:"https://jsonforms.io/docs/uischema/rules"},"JSON Forms documentation")," ","for more info.")),ra=Object(u.a)((function(e){return{editorRoot:{width:"100%"},showMore:{paddingBottom:e.spacing(2)}}})),aa=function(e){var t=e.data,n=e.path,r=e.handleChange,o=e.errors,c=Object(a.useState)(!1),l=c[0],u=c[1],s=Ne.Uri.parse("json://core/specification/rules.json"),d=Object(a.useCallback)((function(e){!function(e,t){zr(e,[Re({},Lr),Re(Re({},$r),{fileMatch:[t.toString()]})])}(e,s)}),[s]),p=Object(a.useMemo)((function(){return Rr(s,JSON.stringify(t,null,2))}),[t,s]),f=Object(a.useCallback)((function(e){p.isDisposed()||e.setModel(p)}),[p]),h=Object(a.useCallback)((function(){try{var e=p.getValue(),t=e?JSON.parse(e):void 0;!function(e){return!e||e.effect&&e.condition}(t)?u(!0):(u(!1),r(n,t))}catch(a){u(!0)}}),[r,p,n]),v=0===o.length&&!l,g=ra();return i.a.createElement(L.a,{defaultExpanded:!!t},i.a.createElement($.a,{expandIcon:i.a.createElement(ze.a,null)},i.a.createElement(m.a,null,"Rule")),i.a.createElement(z.a,null,i.a.createElement("div",{className:g.editorRoot},i.a.createElement(R.a,{error:!1},"Define conditions and effects that can dynamically control features of the UI based on data."),i.a.createElement(Kn,{className:g.showMore},i.a.createElement(R.a,{error:!1},na)),i.a.createElement(Te.a,{language:"json",editorWillMount:d,editorDidMount:f,height:200,options:{formatOnPaste:!0,formatOnType:!0,automaticLayout:!0}}),i.a.createElement(E.a,{container:!0,direction:"row",spacing:2,alignItems:"center"},i.a.createElement(E.a,{item:!0},i.a.createElement(y.a,{variant:"contained",onClick:h},"Apply")),i.a.createElement(E.a,{item:!0},i.a.createElement(R.a,{error:!0,hidden:v},0!==o.length?o:"Not a valid rule JSON."))))))},ia={tester:Object(pe.rankWith)(100,Object(pe.scopeEndsWith)("rule")),renderer:Object(be.withJsonFormsControlProps)(aa)},oa=function(e){var t=e.propertyRenderers,n=Tn()[0],r=Pn(),o=Nn(),c=An(),l=Object(a.useMemo)((function(){return ht(r,null===n||void 0===n?void 0:n.uuid)}),[n,r]),u=Object(a.useMemo)((function(){return Object(me.omit)(l,["uuid","parent","elements","linkedSchemaElement","options.detail"])}),[l]),s=Object(a.useCallback)((function(e){var t=e.data;l&&!Object(me.isEqual)(u,t)&&c(Xt(l.uuid,t))}),[u,c,l]),m=kn().propertiesService,d=Object(a.useState)(),p=d[0],f=d[1];return Object(a.useEffect)((function(){if(l){var e=l.linkedSchemaElement,t=e&&o?ht(o,e):void 0;f(m.getProperties(l,t))}}),[m,o,l]),n?p?i.a.createElement(be.JsonForms,{data:u,schema:p.schema,uischema:p.uiSchema,onChange:s,renderers:t,cells:Ee.materialCells}):i.a.createElement(la,null):i.a.createElement(ca,null)},ca=function(){return i.a.createElement("div",null,"No selection")},la=function(){return i.a.createElement("div",null,"Selected element does not have any configurable properties.")},ua=function(e){var t=e.propertyRenderers;return i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,{variant:"h6",color:"inherit",noWrap:!0},"Properties"),i.a.createElement(oa,{propertyRenderers:t}))},sa=function(e,t){e.properties||(e.properties={}),e.properties.options||(e.properties.options={type:"object",properties:{}}),Object(me.assign)(e.properties.options.properties,t)},ma=function(e){return{type:"Control",scope:e}},da=[function(e,t){return["Group","Control","Categorization","Category"].includes(null===t||void 0===t?void 0:t.type)&&(e.schema.properties||(e.schema.properties={}),Object(me.assign)(e.schema.properties,{label:{type:"string"}}),e.uiSchema.elements.push(ma("#/properties/label"))),e},function(e,t,n){return"string"!==(null===n||void 0===n?void 0:n.schema.type)||(null===n||void 0===n?void 0:n.schema.format)||"Control"!==t.type||(sa(e.schema,{multi:{type:"boolean"}}),e.uiSchema.elements.push(ma("#/properties/options/properties/multi"))),e},function(e,t){return"Label"===(null===t||void 0===t?void 0:t.type)&&(Object(me.assign)(e.schema.properties,{text:{type:"string"}}),e.uiSchema.elements.push(ma("#/properties/text"))),e},function(e){return Object(me.assign)(e.schema.properties,{rule:{type:"object"}}),e.uiSchema.elements.push(ma("#/properties/rule")),e}],pa=function(e,t){var n=this;this.schemaProviders=e,this.schemaDecorators=t,this.getProperties=function(e,t){var r=Object(me.maxBy)(n.schemaProviders,(function(t){return t.tester(e)}));if(r&&-1!==r.tester(e)){var a=r.getPropertiesSchemas(e,t);if(a)return n.schemaDecorators.reduce((function(n,r){return r(n,e,t)}),a)}}},fa=[{tester:function(e){return e?1:-1},getPropertiesSchemas:function(){return{schema:{type:"object",properties:{}},uiSchema:{type:"VerticalLayout",elements:[]}}}}],ha=_e(Ee.materialRenderers,[ia]),va=Object(u.a)((function(e){return{pane:{minHeight:"200px",margin:e.spacing(0,1,0,1),height:"100%"},leftPane:{},centerPane:{alignItems:"stretch"},rightPane:{},reflexContainer:{flex:"1",alignItems:"stretch"}}})),ya=new Sn,ga=new jn,Ea=function(e,t){return new pa(e,t)},ba=new He,Oa=function(e){var t=e.schemaService,n=void 0===t?ya:t,r=e.paletteService,o=void 0===r?ga:r,c=e.categorizationService,l=void 0===c?ba:c,u=e.propertiesServiceProvider,s=void 0===u?Ea:u,m=e.schemaProviders,d=e.schemaDecorators,p=e.editorRenderers,f=void 0===p?Ar:p,h=e.editorTabs,v=void 0===h?Tr:h,y=e.paletteTabs,g=void 0===y?ea:y,E=e.propertyRenderers,b=void 0===E?ha:E,O=e.header,j=void 0===O?Hn:O,S=e.footer,C=void 0===S?Gn:S,x=Object(a.useReducer)(rn,{categorizationService:ba}),D=x[0],I=D.schema,w=D.uiSchema,U=x[1],k=Object(a.useState)(void 0),N=k[0],P=k[1],T=Object(a.useState)(s(m,d))[0],A=null!==v&&void 0!==v?v:void 0,M=null!==j&&void 0!==j?j:void 0,L=null!==C&&void 0!==C?C:void 0;return Object(a.useEffect)((function(){n.getSchema().then((function(e){return U(Gt(e))})),n.getUiSchema().then((function(e){return U(Vt(e))}))}),[n]),Object(a.useEffect)((function(){P((function(e){return e?ht(w,e.uuid)?e:void 0:e}))}),[w]),i.a.createElement(Un.Provider,{value:{schema:I,uiSchema:w,dispatch:U,selection:N,setSelection:P,categorizationService:l,schemaService:n,paletteService:o,propertiesService:T}},i.a.createElement(F.a,{backend:_.a},i.a.createElement(ja,{editorRenderers:f,editorTabs:A,propertyRenderers:b,header:M,footer:L,paletteTabs:null!==g&&void 0!==g?g:void 0})))},ja=function(e){var t=e.editorTabs,n=e.editorRenderers,r=e.propertyRenderers,a=e.header,o=e.footer,c=e.paletteTabs,l=va();return i.a.createElement(xn,{HeaderComponent:a,FooterComponent:o},i.a.createElement(H.a,{orientation:"vertical",className:l.reflexContainer},i.a.createElement(H.b,{minSize:200,flex:1},i.a.createElement("div",{className:l.pane+" "+l.leftPane},i.a.createElement(ta,{paletteTabs:c}))),i.a.createElement(H.c,{propagate:!0}),i.a.createElement(H.b,{minSize:200,flex:2},i.a.createElement("div",{className:l.pane+" "+l.centerPane},i.a.createElement(Pr,{editorTabs:t,editorRenderers:n}))),i.a.createElement(H.c,{propagate:!0}),i.a.createElement(H.b,{minSize:200,flex:1},i.a.createElement("div",{className:l.pane+" "+l.rightPane},i.a.createElement(ua,{propertyRenderers:r})))))},Sa=n(156),Ca=function(){var e=$n(),t=zn(),n=Nn(),r=Object(a.useMemo)((function(){return n?st(n):{}}),[n]),i=JSON.stringify(e),o=JSON.stringify(t),c=JSON.stringify(r),l=JSON.stringify(xr);return o&&i?Object(Sa.jsx)("div",{children:Object(Sa.jsx)("ng-jsonforms",{options:l,schema:i,uischema:o,data:c})}):null},xa=n(1263),Da=Object(u.a)((function(){return{container:{display:"flex",flexDirection:"row",justifyContent:"flex-end"}}})),Ia=function(){return Object(Sa.jsxs)(m.a,{variant:"body2",color:"textSecondary",children:["Copyright \xa9 ",Object(Sa.jsx)(xa.a,{color:"inherit",href:"https://eclipsesource.com",target:"_blank",children:"EclipseSource"})," "+(new Date).getFullYear()]})},wa=function(){var e=Da();return Object(Sa.jsx)(s.a,{className:e.container,children:Object(Sa.jsx)(Ia,{})})},Ua=n(27),ka=n(15),Na=n.n(ka),Pa=n(1),Ta=n(324);function Aa(e){return Ma.apply(this,arguments)}function Ma(){return(Ma=Object(Ta.a)(Na.a.mark((function e(t){var n,r,a,i,o;return Na.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Search Path: ".concat(t)),n=La(t),r="",a="",n&&Object.entries(n).forEach((function(e){var t=Object(Ua.a)(e,2),n=t[0],i=t[1];"sitename"===n&&(r=i),"objectname"===n&&(a=i)})),""===a||""===r){e.next=13;break}return i="/content/".concat(r,"/object-definitions/").concat(a,"/schema.json"),e.next=9,fetch(i);case 9:return o=e.sent,e.abrupt("return",o.json());case 13:return e.abrupt("return","{}");case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function La(e){return e&&e.startsWith("?")?(e=e.substring(1),JSON.parse('{"'+e.replace(/&/g,'","').replace(/=/g,'":"')+'"}',(function(e,t){return""===e?t:decodeURIComponent(t)}))):void 0}var $a=function e(t){var n=this;Object(Pa.a)(this,e),this.searchPath=void 0,this.getSchema=Object(Ta.a)(Na.a.mark((function e(){return Na.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Aa(n.searchPath));case 1:case"end":return e.stop()}}),e)}))),this.getUiSchema=Object(Ta.a)(Na.a.mark((function e(){return Na.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",void 0);case 1:case"end":return e.stop()}}),e)}))),this.searchPath=t},za=(new $a("/content/themecleanflex/object-definitions/example-form-contact"),function(){return Object(Sa.jsx)(Oa,{schemaService:new $a(window.location.search),schemaProviders:fa,schemaDecorators:da,editorTabs:[{name:"Preview (React)",Component:Dr},{name:"Preview (Angular)",Component:Ca}],footer:wa})});c.a.render(Object(Sa.jsxs)(i.a.StrictMode,{children:[Object(Sa.jsx)(r.a,{}),Object(Sa.jsx)(za,{})]}),document.getElementById("root"))},910:function(e,t){},918:function(e,t){},920:function(e,t){}},[[1200,1,2]]]);
//# sourceMappingURL=main.0230d203.chunk.js.map